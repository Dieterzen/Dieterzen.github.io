<!DOCTYPE html>
<html lang="en">
<head>
  <title>Home</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="../css/stylesheet.css">
</head>
<body>

<nav class="navbar navbar-expand-sm bg-dark">
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" href="Eindex.html">Home</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="Ewbi.html">Introduction</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="ELogboek.html">Logbook</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="EStage.html">Apprenticeship</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="Ewireframes.html">Wireframes</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="Econtact.html">Contact</a>
    </li>
	<li class="nav-item">
	<a class="nav-link" href="../Nederlands/index.html">NL</a>
	</li>
	<li class="nav-item">
	<a class="nav-link" href="Eindex.html">ENG</a>
	</li>
	<li class="nav-item">
	<a class="nav-link" href="../Français/Findex.html">FR</a>
	</li>
  </ul>
</nav>
<br>
<div class="jumbotron jumbotron-fluid">
  <div class="container">
    <h1>Advanced Useless Box</h1>
    <p>Dieter Zenner.</p>
  </div>
</div><div class="container-fluid">
<div class="row">
<div class="card" style="width:25%">
    <div class="card-body">
      <h4 class="card-title">Why?</h4>
      <p class="card-text">I chose to make a useless box because i didn't want to be too ambitious.</p>
	  <p class="card-text">I chose to make a useless box because i think it's something i can do.</p>
    </div>
  </div>
  <div class="card" style="width:25%">
    <div class="card-body">
      <h4 class="card-title">how?</h4>
      <p class="card-text">i have to look up most things myself but i can follow manuals on some things.</p>
    </div>
  </div>
   <div class="card" style="width:25%">
    <div class="card-body">
      <h4 class="card-title">deadline.</h4>
      <p class="card-text">11 february</p>
      <p class="card-text">The deadline has been moved too June 17th due to corona.</p>
    </div>
  </div>
  </div>
  <div class="row">
     <div class="card" style="width:25%">
    <img class="card-img-top" src="../image/image_4.jpg" alt="Card image" style="width:100%">
    <div class="card-body">
      <h4 class="card-title">wiring</h4>
      <p class="card-text">this is what the wiring looks like.</p>
    </div>
  </div>
   <div class="card" style="width:25%">
    <div class="card-body">
      <h4 class="card-title"> Example Advanced Useless Box</h4>
      <p class="card-text">This is what the end result should look like.</p>
      <img class="card-img-top" src="../image/image_6.jpg" alt="Card image" style="width:100%">
    </div>
  </div>
     <div class="card" style="width:25%">
    <div class="card-body">
      <h4 class="card-title">Burn down chart</h4>
      <img class="card-img-top" src="../image/burndown.png" alt="Card image" style="width:100%">
    </div>
  </div>
  </div>
  <div class="row">
     <div class="card" style="width:25%">
    <div class="card-body">
      <h4 class="card-title">Manual</h4>
      <p class="card-text">Step 1. Get the Materials. I ended up using a DC motor from an old printer. An old wooden box i made the lid from a plank. I used hinges to open the lid. I used a breadboard. An arduino uno, 2 servo motors, An l9110 H-Bridge, 6 switches, many male to male cables and some female to male cables are also required. and ofcourse also the arduino ide program you can download for free on your computer and  a cable to connect your pc to the arduino. </p>
      <p> Step 2. After connecting and the lid at a ratio of 1/3. one third being contantly on the box (this is where the switches will go) the other two thirds will be able to get lifted up by the hinges and the arm.</p>
      <p> Step 3. Drill 5 holes with an at an equal distance that will eb big enough to hold your switches.</p>
      <p> Step 4. Put in all the cables the correct way. you should be able to tell via this image and the code.</p>
      <img class="card-img-top" src="../image/Useless Box Sketch.jpg" alt="Card image" style="width:100%">
      <p> Step 5. After you've connected thecables and put the servo motors for the arm and lid  and the home switch in the correct place. you are ready to upload the code.</p>
    </div>
      </div>
      <div class="card" style="width:25%">
     <div class="card-body">
       <h4 class="card-title">Code</h4>
       <p class="card-text"> #include <"Servo.h>
// wired connections
#define HG7881_B_IA A4 // A4 --> Motor B Input A --> MOTOR B +
#define HG7881_B_IB 9 // D9 --> Motor B Input B --> MOTOR B -
// functional connections
#define MOTOR_B_PWM HG7881_B_IA // Motor B PWM Speed
#define MOTOR_B_DIR HG7881_B_IB // Motor B Direction
// the actual values for "fast" and "slow" depend on the motor
#define PWM_SLOW 50  // arbitrary slow speed PWM duty cycle
#define PWM_FAST 200 // arbitrary fast speed PWM duty cycle
#define DIR_DELAY 1000 // brief delay for abrupt motor changes
// Servo Motor pins
#define arm 3
#define lid 2
//motor
int MP1 = 9;
int MP2 = A4;
//switches
#define P1 8
#define P2 7
#define P3 6
#define P4 5
#define P5 4
#define Home 12
Servo servoArm;               // Arm Servo
Servo servoLid;               // Lid Servo
int Arm_Position = 0;
 bool opened = false;
 int m = 0;
 int s = 0;
  int motorpositie = 0;
void setup() {
  //motor
 pinMode(MP1, OUTPUT);
 pinMode(MP2, OUTPUT);
//switches
  pinMode(P1, INPUT_PULLUP);
  pinMode(P2, INPUT_PULLUP);
  pinMode(P3, INPUT_PULLUP);
  pinMode(P4, INPUT_PULLUP);
  pinMode(P5, INPUT_PULLUP);
  //servos
  Serial.begin(9600);
  pinMode(arm, OUTPUT);
  pinMode(lid, OUTPUT);
  servoArm.attach(arm);
  servoLid.attach(lid);
  servoArm.write(0);
  servoLid.write(75);
  delay(700);
  servoArm.detach();
  servoLid.detach();
  Serial.println("yey");
   pinMode(Home, INPUT_PULLUP);
   while (digitalRead(Home) > LOW) {    //return to the initial position
            digitalWrite( MOTOR_B_DIR, LOW ); // direction = reverse
        analogWrite( MOTOR_B_PWM, PWM_SLOW ); // PWM speed = slow
  }
        digitalWrite( MOTOR_B_DIR, LOW );
        digitalWrite( MOTOR_B_PWM, LOW );
  m = 0;
}
//raised the arm
void arm_High() {  // Raised the Arm
  servoArm.attach(arm);
  servoArm.write(140);
  if (Arm_Position == 0) {
    delay(400);
  }
  else {
    delay(200);
  }
}
void arm_Middle()  {//Lower the Arm
  servoArm.write(75);
  delay(200);
  Arm_Position = 1;
}
void arm_Low() {
  servoArm.write(0);
  delay(200);
  servoArm.detach();
  Arm_Position = 0;
}
//open
void openLid() {
  servoLid.attach(lid);
  servoLid.write(135);
  delay(300);
  opened = true;
}
//close
void closeLid() {
  servoLid.write(75);
  delay(300);
  servoLid.detach();
  opened = false;
}
void loop()
{
 switch(m){
  case '1':     //right
        digitalWrite( MOTOR_B_DIR, HIGH ); // direction = forward
        analogWrite( MOTOR_B_PWM, 255-PWM_SLOW ); // PWM speed = slow
        delay( DIR_DELAY * s);
        digitalWrite( MOTOR_B_DIR, LOW );
        digitalWrite( MOTOR_B_PWM, LOW );
        motorpositie +=s;
        if (opened = false ){
          openLid();
        }
        arm_High();
        arm_Middle();
        break;
  case '2':       //left
        digitalWrite( MOTOR_B_DIR, LOW ); // direction = reverse
        analogWrite( MOTOR_B_PWM, PWM_SLOW ); // PWM speed = slow
        delay( DIR_DELAY * s );
        digitalWrite( MOTOR_B_DIR, LOW );
        digitalWrite( MOTOR_B_PWM, LOW );
        motorpositie -=s;
        if (opened = false ){
          openLid();
        }
        arm_High();
        arm_Middle();
        break;
   default:
        digitalWrite( MOTOR_B_DIR, LOW );
        digitalWrite( MOTOR_B_PWM, LOW );
        if (opened = true ){
          arm_Low();
          closeLid();
        }
 }
    if (digitalRead (P1) == LOW){
      if (motorpositie < 5){
        m = 1;
        s = 5 - motorpositie;
      }else if(motorpositie > 5){
        m = 2;
        s = motorpositie - 5;
      }
  }
      if (digitalRead (P2) == LOW){
        if (motorpositie < 4){
        m = 1;
        s = 4 - motorpositie;
      }else if(motorpositie > 4){
        m = 2;
        s = motorpositie - 4;
      }
  }
      if (digitalRead (P3) == LOW){
        if (motorpositie < 3){
        m = 1;
        s = 3 - motorpositie;
      }else if(motorpositie > 3){
        m = 2;
        s = motorpositie - 3;
      }
  }
      if (digitalRead (P4) == LOW){
        if (motorpositie < 2){
        m = 1;
        s = 2 - motorpositie;
      }else if(motorpositie > 2){
        m = 2;
        s = motorpositie - 2;
      }
  }
      if (digitalRead (P5) == LOW){
        if (motorpositie < 1){
        m = 1;
        s = 1 - motorpositie;
      }else if(motorpositie > 1){
        m = 2;
        s = motorpositie - 1;
      }
      if (digitalRead (P5) == HIGH && digitalRead (P4) == HIGH && digitalRead (P3) == HIGH && digitalRead (P2) == HIGH && digitalRead (P1) == HIGH){
        m = 0;
      }
  }
}</p>
     </div>
       </div>
    </div>
  <div class="jumbotron jumbotron-fluid text-center" style="margin-bottom:0">
  <p>Copyright©Dieter Zenner</p>
</div>
</body>
</html>
